programmers 다단계 칫솔 판매

```python
from collections import defaultdict

def solution(enroll, referral, seller, amount):
    answer = []
    reco = defaultdict()
    costs = defaultdict(int)
    
    for p in range(len(enroll)):
        if referral[p] != "-":
            reco[enroll[p]] = referral[p]
        else:
            reco[enroll[p]] = "center"
    
    for p in range(len(amount)):
        sel = seller[p]
        cost = amount[p] * 100
        while 1:
            if sel in reco:
                if cost//10:
                    de = cost//10
                    pro = cost - de
                    costs[sel] += pro
                    cost = de
                    sel = reco[sel]
                else:
                    costs[sel] += cost
                    break 
            else:
                costs[sel] += cost
                break
    for p in enroll:
        if p in costs:
            answer.append(costs[p])
        else:
            answer.append(0)
            
    
    return answer
"""
테스트 1 〉	통과 (0.03ms, 10.3MB)
테스트 2 〉	통과 (0.08ms, 10.3MB)
테스트 3 〉	통과 (0.05ms, 10.3MB)
테스트 4 〉	통과 (0.22ms, 10.2MB)
테스트 5 〉	통과 (0.86ms, 10.3MB)
테스트 6 〉	통과 (2.46ms, 12.6MB)
테스트 7 〉	통과 (3.64ms, 12.2MB)
테스트 8 〉	통과 (4.36ms, 12.3MB)
테스트 9 〉	통과 (15.50ms, 13.4MB)
테스트 10 〉	통과 (115.19ms, 21.1MB)
테스트 11 〉	통과 (80.43ms, 20.3MB)
테스트 12 〉	통과 (81.10ms, 20.3MB)
테스트 13 〉	통과 (104.38ms, 20.4MB)
"""
```

